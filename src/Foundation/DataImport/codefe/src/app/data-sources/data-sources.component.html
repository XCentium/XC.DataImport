<div class="section" *ngIf="mapping">
<div class="form-group">
    <h5 for="sourcetype">{{ 'SOURCE_TYPE' | translate }}</h5>
    <select scDropdown class="form-control" id="sourcetype" [(ngModel)]="mapping.SourceType.Name" name="sourcetype" (change)="showSource($event.target)">
        <option class="dropdown-item" *ngFor="let SourceType of sourceTypes" scDropdownItem [ngValue]="SourceType.Name">{{SourceType.Name}}</option>                        
    </select>
  </div>

  <div class="form-group ">
      <div class="dataSource" *ngFor="let source of sourceTypes">
        <div *ngIf="mapping.SourceType.Name===source.Name"><!--  -->
            <h5>{{ source.Name | translate }}</h5>

            <div *ngFor="let field of source.Fields">
                <div *ngIf="field.InputType === 'text'">
                    <div class="form-group">
                        <label for="{{field.Name}}">{{ field.Name | translate }}</label>
                        <input type="text"  class="form-control" id="{{field.Name}}" name="{{field.Name}}" [(ngModel)]="mapping.Source[field.Name]" />
                    </div>
                </div>
                <div *ngIf="field.InputType === 'select'">
                    <div class="form-group">
                        <label for="{{field.Name}}">{{ field.Name | translate }}</label>
                        <select class="form-control" id="{{field.Name}}" [(ngModel)]="mapping.Source[field.Name]" name="{{field.Name}}" (change)="triggerFields(field.TriggerFields)">
                            <option scDropdownItem *ngFor="let option of optionsDic[field.OptionsSource]" [ngValue]="option.Value" >{{option.Name}}</option>
                        </select>
                    </div>
                </div>
                <div *ngIf="field.InputType === 'textarea'">
                    <div class="form-group">
                        <label for="{{field.Name}}">{{ field.Name | translate }}</label>
                        <textarea class="form-control" id="{{field.Name}}" rows="4" [(ngModel)]="mapping.Source[field.Name]" name="{{field.Name}}"></textarea>
                    </div>
                </div>
                <div class="form-group tree-wrap" *ngIf="field.InputType === 'tree'">
                    <label for="{{field.Name}}">{{ field.Name | translate }}</label>
                    <tree-root [nodes]="optionsDic[field.OptionsSource]" [options]="sitecoreTreeOptions" [(state)]="sitecoreTreeState" (activate)="onActivate($event)" 
                    #treesource (stateChange)="setState($event)">
                        <ng-template #treeNodeTemplate let-node let-index="index">
                            <span><img width="16" src="{{node.data.mediaUrl}}" class="tree-icon" />{{ node.data.name }}</span>
                        </ng-template>
                    </tree-root>
                </div>
            </div>
        </div>
      </div>  
  </div>
</div>